{"version":3,"sources":["webpack:///./src/plugins/axios.js","webpack:///src/pages/login/Login.vue","webpack:///./src/pages/login/Login.vue?c501","webpack:///./src/pages/login/Login.vue","webpack:///./src/pages/login/index.js"],"names":["__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_define_properties___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_vue__","__WEBPACK_IMPORTED_MODULE_3_axios__","_axios","a","create","interceptors","request","use","config","error","reject","response","Plugin","install","Vue","options","axios","window","prototype","get","$axios","Login","data","form","username","pwd","tip","test","methods","dl","arr","this","i","length","sessionStorage","password","$message","message","type","location","href","reg","_this","form_data","FormData","append","post","headers","Content-Type","then","res","getusers","_this2","map","v","push","console","log","created","beforeMount","login_Login","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","label-width","model","label","placeholder","value","callback","$$v","$set","expression","on","click","staticStyle","color","_s","staticRenderFns","src","alt","pages_login_Login","normalizeComponent","ssrContext","vue_esm","productionTip","element_ui_common_default","el","components","template","h"],"mappings":"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","file":"static/js/login.254ec3c5b5dcfd63b24b.js","sourcesContent":["\"use strict\";\n\nimport Vue from 'vue';\nimport axios from \"axios\";\n\n// Full config:  https://github.com/axios/axios#request-config\n// axios.defaults.baseURL = process.env.baseURL || process.env.apiUrl || '';\n// axios.defaults.headers.common['Authorization'] = AUTH_TOKEN;\n// axios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\n\nlet config = {\n  // baseURL: process.env.baseURL || process.env.apiUrl || \"\"\n  // timeout: 60 * 1000, // Timeout\n  // withCredentials: true, // Check cross-site Access-Control\n};\n\nconst _axios = axios.create(config);\n\n_axios.interceptors.request.use(\n  function(config) {\n    // Do something before request is sent\n    return config;\n  },\n  function(error) {\n    // Do something with request error\n    return Promise.reject(error);\n  }\n);\n\n// Add a response interceptor\n_axios.interceptors.response.use(\n  function(response) {\n    // Do something with response data\n    return response;\n  },\n  function(error) {\n    // Do something with response error\n    return Promise.reject(error);\n  }\n);\n\nPlugin.install = function(Vue, options) {\n  Vue.axios = _axios;\n  window.axios = _axios;\n  Object.defineProperties(Vue.prototype, {\n    axios: {\n      get() {\n        return _axios;\n      }\n    },\n    $axios: {\n      get() {\n        return _axios;\n      }\n    },\n  });\n};\n\nVue.use(Plugin)\n\nexport default Plugin;\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/axios.js","<template>\r\n  <div class=\"deng\">\r\n    <div class=\"logo\">\r\n      <img src=\"/static/images/denglu.png\" alt=\"\" class=\"logoimg\">\r\n    </div>\r\n    <div class=\"shuru\">\r\n      <el-form label-width=\"80px\" :model=\"form\">\r\n        <el-form-item label=\"用户名\">\r\n          <el-input v-model=\"form.username\" placeholder=\"请输入用户名\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"密码\">\r\n          <el-input v-model=\"form.pwd\" type=\"password\" placeholder=\"请输入密码\"></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div>\r\n      <el-row>\r\n        <el-button type=\"primary\" @click=\"dl\">登录</el-button>\r\n        <el-button type=\"info\" @click=\"reg\">注册</el-button>\r\n      </el-row>\r\n    </div>\r\n    <div style=\"color:red\">{{ tip }}</div>\r\n  </div>\r\n\r\n</template>\r\n<script>\r\nexport default {\r\n  data: function() {\r\n    return {\r\n      form: {\r\n        username: \"\",\r\n        pwd: \"\"\r\n      },\r\n      tip: \"\",\r\n      test: []\r\n    };\r\n  },\r\n  methods: {\r\n    dl() {\r\n      var arr = this.test;\r\n      for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i].username == this.form.username) {\r\n          sessionStorage.username = this.form.username;\r\n          sessionStorage.password = this.form.pwd;\r\n          this.$message({\r\n            message: \"登录成功\",\r\n            type: \"success\"\r\n          });\r\n          this.tip = '';\r\n          location.href = \"home.html\";\r\n        } else if (this.form.username == \"\" || this.form.pwd == \"\") {\r\n          this.tip = \"用户名或密码不能为空！\";\r\n        } else {\r\n          this.tip = '';\r\n          this.$message.error(\"用户名或密码不正确，请注册后登录！\");\r\n        }\r\n      }\r\n    },\r\n    reg() {\r\n      var arr = this.test;\r\n      for (var i = 0; i < arr.length; i++) {\r\n        if (arr[i].username === this.form.username) {\r\n          this.$message({\r\n            message: \"用户名已存在\",\r\n            type: \"warning\"\r\n          });\r\n          return;\r\n        }\r\n      }\r\n\r\n      var form_data = new FormData();\r\n      form_data.append(\"username\", this.form.username);\r\n      form_data.append(\"password\", this.form.pwd);\r\n      axios\r\n        .post(\"/zhuc\", form_data, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data\"\r\n          }\r\n        })\r\n        .then(res => {\r\n          if (this.form.username == \"\" || this.form.pwd == \"\") {\r\n            this.tip = \"用户名或密码不能为空！\";\r\n          } else {\r\n            this.tip = \"\";\r\n            this.$message({\r\n              message: \"注册成功\",\r\n              type: \"success\"\r\n            });\r\n          }\r\n\r\n          this.getusers();\r\n        });\r\n    },\r\n    getusers() {\r\n      this.test = [];\r\n      axios.get(\"/dengl\").then(res => {\r\n        var users = res.data.data;\r\n        users.map(v => {\r\n          if (v.username) {\r\n            this.test.push(v);\r\n            console.log(this.test);\r\n          }\r\n        });\r\n        //\r\n      });\r\n    }\r\n  },\r\n  created() {\r\n    this.getusers();\r\n  },\r\n  beforeMount() {\r\n    if (sessionStorage.username) {\r\n      location.href = \"home.html\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\nbody{\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.deng {\r\n  width: 100%;\r\n  text-align: center;\r\n  margin-top: 100px;\r\n}\r\n.logoimg {\r\n  margin: 0 auto;\r\n  width: 160px;\r\n  display: inline-block;\r\n  border: none;\r\n  vertical-align: middle;\r\n}\r\n.shuru {\r\n  width: 350px;\r\n  margin: 0 auto;\r\n  padding-right: 70px;\r\n}\r\n</style>\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// src/pages/login/Login.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"deng\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"shuru\"},[_c('el-form',{attrs:{\"label-width\":\"80px\",\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"label\":\"用户名\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"密码\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},model:{value:(_vm.form.pwd),callback:function ($$v) {_vm.$set(_vm.form, \"pwd\", $$v)},expression:\"form.pwd\"}})],1)],1)],1),_vm._v(\" \"),_c('div',[_c('el-row',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.dl}},[_vm._v(\"登录\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.reg}},[_vm._v(\"注册\")])],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"color\":\"red\"}},[_vm._v(_vm._s(_vm.tip))])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"logo\"},[_c('img',{staticClass:\"logoimg\",attrs:{\"src\":\"/static/images/denglu.png\",\"alt\":\"\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22dd5350\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/login/Login.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22dd5350\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Login.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Login.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22dd5350\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Login.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22dd5350\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/login/Login.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport ElementUI from 'element-ui';\r\nimport 'element-ui/lib/theme-chalk/index.css';\r\nimport Login from './Login';\r\nimport '../../plugins/axios'\r\n\r\nVue.config.productionTip = false;\r\nVue.use(ElementUI);\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  components: { Login },\r\n  template: '<Login/>',\r\n  render: h => h(Login)\r\n})\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/index.js"],"sourceRoot":""}